[gd_scene load_steps=12 format=3 uid="uid://1g6fkgk4a7s3"]

[ext_resource type="Script" uid="uid://b4fgu7iprt1p2" path="res://scenes/main.gd" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://bwq1qa2of8uhd" path="res://scenes/player/player.tscn" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://b6oie3fqrmrph" path="res://scenes/bullet/bullet.tscn" id="2_jyhfs"]
[ext_resource type="Script" uid="uid://cgygupn5ha2td" path="res://scenes/node_2d.gd" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://cs0b0msvxlyco" path="res://scenes/player-lives/player_lives.tscn" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://bthqlnm1rnjm" path="res://scenes/game_over_screen.gd" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://bqy1pa3kaydux" path="res://scenes/enemy-manager/enemy_manager.tscn" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://bkqweflypj03f" path="res://scenes/enemy/enemy.tscn" id="8_tipki"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tipki"]
size = Vector2(10, 811)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_85g3d"]
size = Vector2(10, 811)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_choun"]
size = Vector2(450, 151)

[node name="Main" type="Node"]
script = ExtResource("1_0wfyh")
bullet = ExtResource("2_jyhfs")

[node name="Player" parent="." instance=ExtResource("1_o5qli")]
position = Vector2(220, 756)

[node name="Node2D" type="Node2D" parent="."]
script = ExtResource("3_sugp2")

[node name="PlayerLives" parent="." instance=ExtResource("5_tbgi4")]

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -723.0
grow_horizontal = 2
grow_vertical = 2

[node name="ScoreLabel" type="Label" parent="UI"]
z_index = 5
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -235.0
offset_top = 12.0
offset_bottom = 62.0
grow_horizontal = 0
theme_override_font_sizes/font_size = 36
text = "Score: 0"

[node name="GameOverScreen" type="Control" parent="."]
process_mode = 3
visible = false
z_index = 10
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("6_tefeu")

[node name="ColorRect" type="ColorRect" parent="GameOverScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.776471)

[node name="GameOverLabel" type="Label" parent="GameOverScreen"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -200.0
offset_top = 113.0
offset_right = 200.0
offset_bottom = 209.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 70
text = "Game Over!"

[node name="HighScoreLabel" type="Label" parent="GameOverScreen"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -63.0
offset_top = 204.0
offset_right = 63.0
offset_bottom = 232.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 20
text = "High Score: 0"

[node name="PlayAgainButton" type="Button" parent="GameOverScreen"]
process_mode = 3
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -152.0
offset_top = -38.5
offset_right = 152.0
offset_bottom = 38.5
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 50
text = "Play Again"

[node name="EnemyManager" parent="." instance=ExtResource("7_o6xl0")]
position = Vector2(0, 91)

[node name="Node2D2" type="Node2D" parent="."]
visible = false

[node name="Enemy" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(14, 140)

[node name="Enemy2" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(47, 140)

[node name="Enemy3" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(80, 140)

[node name="Enemy4" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(113, 140)

[node name="Enemy5" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(146, 140)

[node name="Enemy6" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(179, 140)

[node name="Enemy7" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(212, 140)

[node name="Enemy8" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(245, 140)

[node name="Enemy9" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(278, 140)

[node name="Enemy10" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(311, 140)

[node name="Enemy11" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(344, 140)

[node name="Enemy12" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(106, 168)

[node name="Enemy13" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(139, 168)

[node name="Enemy14" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(172, 168)

[node name="Enemy15" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(205, 168)

[node name="Enemy16" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(238, 168)

[node name="Enemy17" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(271, 168)

[node name="Enemy18" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(304, 168)

[node name="Enemy19" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(337, 168)

[node name="Enemy20" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(370, 168)

[node name="Enemy21" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(403, 168)

[node name="Enemy22" parent="Node2D2" instance=ExtResource("8_tipki")]
position = Vector2(436, 168)

[node name="Walls" type="Area2D" parent="." groups=["walls"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls"]
position = Vector2(-5, 395.5)
shape = SubResource("RectangleShape2D_tipki")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Walls"]
position = Vector2(455, 395.5)
shape = SubResource("RectangleShape2D_85g3d")

[node name="GameOverArea" type="Area2D" parent="." groups=["ground"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameOverArea"]
position = Vector2(225, 725.5)
shape = SubResource("RectangleShape2D_choun")

[connection signal="player_died" from="Player" to="." method="_on_player_player_died"]
[connection signal="player_game_over" from="Player" to="." method="_on_player_player_game_over"]
[connection signal="pressed" from="GameOverScreen/PlayAgainButton" to="GameOverScreen" method="_on_play_again_button_pressed"]
[connection signal="enemy_landed" from="EnemyManager" to="." method="_on_enemy_manager_enemy_landed"]
